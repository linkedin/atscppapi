<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>atscppapi: atscppapi::Transaction Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">atscppapi
   &#160;<span id="projectnumber">1.0.9</span>
   </div>
   <div id="projectbrief">C++ wrapper for Apache Traffic Server API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>atscppapi</b></li><li class="navelem"><a class="el" href="classatscppapi_1_1Transaction.html">Transaction</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classatscppapi_1_1Transaction-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">atscppapi::Transaction Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Transactions are the object containing all the state related to a HTTP <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a>.  
 <a href="classatscppapi_1_1Transaction.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="Transaction_8h_source.html">Transaction.h</a>&quot;</code></p>

<p>Inherits atscppapi::noncopyable.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction_1_1ContextValue.html">ContextValue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ContextValues are a mechanism to share data between plugins using the atscppapi.  <a href="classatscppapi_1_1Transaction_1_1ContextValue.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a49e885de00f9b7d81338bbcef8cf7895"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895">TimeoutType</a> { <a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895a1fb43a91129846f522d76dbb738c74e3">TIMEOUT_DNS</a> = 0, 
<a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895a11213d84eaf51d43acf08a149024a97e">TIMEOUT_CONNECT</a>, 
<a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895a895c0b097218e2dcc568d5db5896b548">TIMEOUT_NO_ACTIVITY</a>, 
<a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895a3f4f0ae659ceda3aa19f221ec62e2776">TIMEOUT_ACTIVE</a>
 }</td></tr>
<tr class="separator:a49e885de00f9b7d81338bbcef8cf7895"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6437162002c5f5624e5058a3448d55f7"><td class="memItemLeft" align="right" valign="top">shared_ptr&lt; <a class="el" href="classatscppapi_1_1Transaction_1_1ContextValue.html">ContextValue</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a6437162002c5f5624e5058a3448d55f7">getContextValue</a> (const std::string &amp;key)</td></tr>
<tr class="separator:a6437162002c5f5624e5058a3448d55f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf6a6ceaff13bd532ce38765f58026c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a1cf6a6ceaff13bd532ce38765f58026c">setContextValue</a> (const std::string &amp;key, shared_ptr&lt; <a class="el" href="classatscppapi_1_1Transaction_1_1ContextValue.html">ContextValue</a> &gt; value)</td></tr>
<tr class="separator:a1cf6a6ceaff13bd532ce38765f58026c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403b4e454eb8762c1b9717e00907f55f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a403b4e454eb8762c1b9717e00907f55f">resume</a> ()</td></tr>
<tr class="separator:a403b4e454eb8762c1b9717e00907f55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a96d37b86768655e865c30f1543331b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a8a96d37b86768655e865c30f1543331b">error</a> ()</td></tr>
<tr class="separator:a8a96d37b86768655e865c30f1543331b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea0f6d17847db964e30498d7403b493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a6ea0f6d17847db964e30498d7403b493">error</a> (const std::string &amp;content)</td></tr>
<tr class="separator:a6ea0f6d17847db964e30498d7403b493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3e41f82a687a73b085af99aa375ffc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a3a3e41f82a687a73b085af99aa375ffc">setErrorBody</a> (const std::string &amp;content)</td></tr>
<tr class="separator:a3a3e41f82a687a73b085af99aa375ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977bbc1d9f4a33aa9e12d58fb868a24b"><td class="memItemLeft" align="right" valign="top">const sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a977bbc1d9f4a33aa9e12d58fb868a24b">getClientAddress</a> () const </td></tr>
<tr class="separator:a977bbc1d9f4a33aa9e12d58fb868a24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7922f3097709b09015714951487c4bdf"><td class="memItemLeft" align="right" valign="top">const sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a7922f3097709b09015714951487c4bdf">getIncomingAddress</a> () const </td></tr>
<tr class="separator:a7922f3097709b09015714951487c4bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876c9d26702f80fc63ece1c0abfe5e40"><td class="memItemLeft" align="right" valign="top">const sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a876c9d26702f80fc63ece1c0abfe5e40">getServerAddress</a> () const </td></tr>
<tr class="separator:a876c9d26702f80fc63ece1c0abfe5e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a523afc27226dc2f2021824c3ece8f4c5"><td class="memItemLeft" align="right" valign="top">const sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a523afc27226dc2f2021824c3ece8f4c5">getNextHopAddress</a> () const </td></tr>
<tr class="separator:a523afc27226dc2f2021824c3ece8f4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c3e395cb4d5beae7f0b738256df56b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#ad1c3e395cb4d5beae7f0b738256df56b">setIncomingPort</a> (uint16_t port)</td></tr>
<tr class="separator:ad1c3e395cb4d5beae7f0b738256df56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae349d9fced1af8f731812e2eef53bb19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#ae349d9fced1af8f731812e2eef53bb19">setServerAddress</a> (const sockaddr *)</td></tr>
<tr class="separator:ae349d9fced1af8f731812e2eef53bb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5a08a11ed7e8e6081c2bd0b3a6452e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a6f5a08a11ed7e8e6081c2bd0b3a6452e">isInternalRequest</a> () const </td></tr>
<tr class="separator:a6f5a08a11ed7e8e6081c2bd0b3a6452e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa7c820f6931ac3b146045189a72f04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classatscppapi_1_1ClientRequest.html">ClientRequest</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#acaa7c820f6931ac3b146045189a72f04">getClientRequest</a> ()</td></tr>
<tr class="separator:acaa7c820f6931ac3b146045189a72f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314d82aa7a897b54a98fe21e74348745"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classatscppapi_1_1Request.html">Request</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a314d82aa7a897b54a98fe21e74348745">getServerRequest</a> ()</td></tr>
<tr class="separator:a314d82aa7a897b54a98fe21e74348745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488a3a904ba14e522f93e2914dd24c55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classatscppapi_1_1Response.html">Response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a488a3a904ba14e522f93e2914dd24c55">getServerResponse</a> ()</td></tr>
<tr class="separator:a488a3a904ba14e522f93e2914dd24c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1db245c8130ec0f00c06a7128d28af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classatscppapi_1_1Response.html">Response</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a9d1db245c8130ec0f00c06a7128d28af">getClientResponse</a> ()</td></tr>
<tr class="separator:a9d1db245c8130ec0f00c06a7128d28af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab84aae3767abb260e8a00cd23887ee6f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#ab84aae3767abb260e8a00cd23887ee6f">getEffectiveUrl</a> ()</td></tr>
<tr class="separator:ab84aae3767abb260e8a00cd23887ee6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73950e4bfd96fc8c9cd6a3e67f0e0735"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a73950e4bfd96fc8c9cd6a3e67f0e0735">setCacheUrl</a> (const std::string &amp;)</td></tr>
<tr class="separator:a73950e4bfd96fc8c9cd6a3e67f0e0735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b18cc6654eb84a01822933c0616020"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#ac7b18cc6654eb84a01822933c0616020">setTimeout</a> (<a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895">TimeoutType</a> type, int time_ms)</td></tr>
<tr class="separator:ac7b18cc6654eb84a01822933c0616020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03bfa1d1633a9a9d5b190bae39f3edd9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a03bfa1d1633a9a9d5b190bae39f3edd9">getAtsHandle</a> () const </td></tr>
<tr class="separator:a03bfa1d1633a9a9d5b190bae39f3edd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2793cd979d3bfbf9990bc9b723fbc1fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatscppapi_1_1Transaction.html#a2793cd979d3bfbf9990bc9b723fbc1fd">addPlugin</a> (<a class="el" href="classatscppapi_1_1TransactionPlugin.html">TransactionPlugin</a> *)</td></tr>
<tr class="separator:a2793cd979d3bfbf9990bc9b723fbc1fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transactions are the object containing all the state related to a HTTP <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a>. </p>
<dl class="section warning"><dt>Warning</dt><dd>Transactions should never be directly created by the user, they will always be automatically created and destroyed as they are needed. Transactions should never be saved beyond the scope of the function in which they are delivered otherwise undefined behaviour will result. </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a49e885de00f9b7d81338bbcef8cf7895"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895">atscppapi::Transaction::TimeoutType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The available types of timeouts you can set on a <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a49e885de00f9b7d81338bbcef8cf7895a1fb43a91129846f522d76dbb738c74e3"></a>TIMEOUT_DNS</em>&nbsp;</td><td class="fielddoc">
<p>Timeout on DNS </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a49e885de00f9b7d81338bbcef8cf7895a11213d84eaf51d43acf08a149024a97e"></a>TIMEOUT_CONNECT</em>&nbsp;</td><td class="fielddoc">
<p>Timeout on Connect </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a49e885de00f9b7d81338bbcef8cf7895a895c0b097218e2dcc568d5db5896b548"></a>TIMEOUT_NO_ACTIVITY</em>&nbsp;</td><td class="fielddoc">
<p>Timeout on No Activity </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a49e885de00f9b7d81338bbcef8cf7895a3f4f0ae659ceda3aa19f221ec62e2776"></a>TIMEOUT_ACTIVE</em>&nbsp;</td><td class="fielddoc">
<p>Timeout with Activity </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2793cd979d3bfbf9990bc9b723fbc1fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::addPlugin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classatscppapi_1_1TransactionPlugin.html">TransactionPlugin</a> *&#160;</td>
          <td class="paramname"><em>plugin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a <a class="el" href="classatscppapi_1_1TransactionPlugin.html" title="The interface used when creating a TransactionPlugin.">TransactionPlugin</a> to the current <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a>. This effectively transfers ownership and the <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a> is now responsible for cleaning it up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TransactionPlugin*</td><td>the <a class="el" href="classatscppapi_1_1TransactionPlugin.html" title="The interface used when creating a TransactionPlugin.">TransactionPlugin</a> that will be now bound to the current <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8a96d37b86768655e865c30f1543331b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Causes the <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a> to advance to the error state in the HTTP state machine. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classatscppapi_1_1Transaction.html#a6ea0f6d17847db964e30498d7403b493">error(const std::string &amp;)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6ea0f6d17847db964e30498d7403b493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::error </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>content</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Causes the <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a> to advance to the error state in the HTTP state machine with a specific error message displayed. This is functionally equivalent to the following:</p>
<div class="fragment"><div class="line"><a class="code" href="classatscppapi_1_1Transaction.html#a3a3e41f82a687a73b085af99aa375ffc">setErrorBody</a>(content);</div>
<div class="line"><a class="code" href="classatscppapi_1_1Transaction.html#a8a96d37b86768655e865c30f1543331b">error</a>();</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">content</td><td>the error page body. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a03bfa1d1633a9a9d5b190bae39f3edd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * Transaction::getAtsHandle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the TSHttpTxn related to the current <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a></p>
<dl class="section return"><dt>Returns</dt><dd>a void * which can be cast back to a TSHttpTxn. </dd></dl>

</div>
</div>
<a class="anchor" id="a977bbc1d9f4a33aa9e12d58fb868a24b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const sockaddr * Transaction::getClientAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the clients address </p>
<dl class="section return"><dt>Returns</dt><dd>The sockaddr structure representing the client's address </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>atscppapi::utils::getIpString() in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd>
<dd>
atscppapi::utils::getPort() in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd>
<dd>
atscppapi::utils::getIpPortString in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acaa7c820f6931ac3b146045189a72f04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classatscppapi_1_1ClientRequest.html">ClientRequest</a> &amp; Transaction::getClientRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the <a class="el" href="classatscppapi_1_1ClientRequest.html" title="Encapsulates a client request. A client request is different from a server request as it has two URLs...">ClientRequest</a> object for the incoming request from the client.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classatscppapi_1_1ClientRequest.html" title="Encapsulates a client request. A client request is different from a server request as it has two URLs...">ClientRequest</a> object that can be used to manipulate the incoming request from the client. </dd></dl>

</div>
</div>
<a class="anchor" id="a9d1db245c8130ec0f00c06a7128d28af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classatscppapi_1_1Response.html">Response</a> &amp; Transaction::getClientResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a <a class="el" href="classatscppapi_1_1Response.html" title="Encapsulates a response.">Response</a> object which is the response going to the client</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classatscppapi_1_1Response.html" title="Encapsulates a response.">Response</a> object that can be used to manipulate the outgoing response from the client. </dd></dl>

</div>
</div>
<a class="anchor" id="a6437162002c5f5624e5058a3448d55f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt; <a class="el" href="classatscppapi_1_1Transaction_1_1ContextValue.html">Transaction::ContextValue</a> &gt; Transaction::getContextValue </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Context Values are a way to share data between plugins, the key is always a string and the value can be a shared_ptr to any type that extends <a class="el" href="classatscppapi_1_1Transaction_1_1ContextValue.html" title="ContextValues are a mechanism to share data between plugins using the atscppapi.">ContextValue</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer that is correctly initialized if the value existed. It should be checked with .get() != NULL before use. </dd></dl>

</div>
</div>
<a class="anchor" id="ab84aae3767abb260e8a00cd23887ee6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Transaction::getEffectiveUrl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the Effective URL for this transaction taking into account host. </p>

</div>
</div>
<a class="anchor" id="a7922f3097709b09015714951487c4bdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const sockaddr * Transaction::getIncomingAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the incoming address </p>
<dl class="section return"><dt>Returns</dt><dd>The sockaddr structure representing the incoming address </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>atscppapi::utils::getIpString() in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd>
<dd>
atscppapi::utils::getPort() in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd>
<dd>
atscppapi::utils::getIpPortString in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a523afc27226dc2f2021824c3ece8f4c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const sockaddr * Transaction::getNextHopAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next hop address </p>
<dl class="section return"><dt>Returns</dt><dd>The sockaddr structure representing the next hop's address </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>atscppapi::utils::getIpString() in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd>
<dd>
atscppapi::utils::getPort() in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd>
<dd>
atscppapi::utils::getIpPortString in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a876c9d26702f80fc63ece1c0abfe5e40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const sockaddr * Transaction::getServerAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the server address </p>
<dl class="section return"><dt>Returns</dt><dd>The sockaddr structure representing the server's address </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>atscppapi::utils::getIpString() in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd>
<dd>
atscppapi::utils::getPort() in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd>
<dd>
atscppapi::utils::getIpPortString in <a class="el" href="utils_8h.html" title="Contains utility functions available to users of the api.">atscppapi/utils.h</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a314d82aa7a897b54a98fe21e74348745"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classatscppapi_1_1Request.html">Request</a> &amp; Transaction::getServerRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a <a class="el" href="classatscppapi_1_1Request.html" title="Encapsulates a request.">Request</a> object which is the request from Traffic Server to the origin server.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classatscppapi_1_1Request.html" title="Encapsulates a request.">Request</a> object that can be used to manipulate the outgoing request to the origin server. </dd></dl>

</div>
</div>
<a class="anchor" id="a488a3a904ba14e522f93e2914dd24c55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classatscppapi_1_1Response.html">Response</a> &amp; Transaction::getServerResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a <a class="el" href="classatscppapi_1_1Response.html" title="Encapsulates a response.">Response</a> object which is the response coming from the origin server</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classatscppapi_1_1Response.html" title="Encapsulates a response.">Response</a> object that can be used to manipulate the incoming response from the origin server. </dd></dl>

</div>
</div>
<a class="anchor" id="a6f5a08a11ed7e8e6081c2bd0b3a6452e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Transaction::isInternalRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a boolean value if the request is an internal request. A request is an internal request if it originates from within traffic server. An example would be using TSFetchUrl (or the atscppapi equivalent of <a class="el" href="classatscppapi_1_1AsyncHttpFetch.html" title="This class provides an implementation of AsyncProvider that makes HTTP requests asynchronously. This provider automatically self-destructs after the completion of the request.">AsyncHttpFetch</a>) to make another request along with the original request. The secondary request originated within traffic server and is an internal request.</p>
<dl class="section return"><dt>Returns</dt><dd>boolean value specifying if the request was an internal request. </dd></dl>

</div>
</div>
<a class="anchor" id="a403b4e454eb8762c1b9717e00907f55f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::resume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Causes the <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a> to continue on to other states in the HTTP state machine If you do not call <a class="el" href="classatscppapi_1_1Transaction.html#a403b4e454eb8762c1b9717e00907f55f">resume()</a> on a <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a> it will remain in that state until it's advanced out by a call to <a class="el" href="classatscppapi_1_1Transaction.html#a403b4e454eb8762c1b9717e00907f55f">resume()</a> or <a class="el" href="classatscppapi_1_1Transaction.html#a8a96d37b86768655e865c30f1543331b">error()</a>. </p>

</div>
</div>
<a class="anchor" id="a73950e4bfd96fc8c9cd6a3e67f0e0735"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Transaction::setCacheUrl </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the url used by the ATS cache for a specific transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>is the url to use in the cache. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1cf6a6ceaff13bd532ce38765f58026c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::setContextValue </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">shared_ptr&lt; <a class="el" href="classatscppapi_1_1Transaction_1_1ContextValue.html">ContextValue</a> &gt;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Context Values are a way to share data between plugins, the key is always a string and the value can be a shared_ptr to any type that extends <a class="el" href="classatscppapi_1_1Transaction_1_1ContextValue.html" title="ContextValues are a mechanism to share data between plugins using the atscppapi.">ContextValue</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>the key to insert. </td></tr>
    <tr><td class="paramname">value</td><td>a shared pointer to a class that extends <a class="el" href="classatscppapi_1_1Transaction_1_1ContextValue.html" title="ContextValues are a mechanism to share data between plugins using the atscppapi.">ContextValue</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3a3e41f82a687a73b085af99aa375ffc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::setErrorBody </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>content</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the error body page but this method does not advance the state machine to the error state. To do that you must explicitally call <a class="el" href="classatscppapi_1_1Transaction.html#a8a96d37b86768655e865c30f1543331b">error()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">content</td><td>the error page content. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad1c3e395cb4d5beae7f0b738256df56b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Transaction::setIncomingPort </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the incoming port on the <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>is the port to set as the incoming port on the transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae349d9fced1af8f731812e2eef53bb19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Transaction::setServerAddress </td>
          <td>(</td>
          <td class="paramtype">const sockaddr *&#160;</td>
          <td class="paramname"><em>sockaddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the server address on the <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a> to a populated sockaddr *</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockaddr*</td><td>the sockaddr structure populated as the server address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac7b18cc6654eb84a01822933c0616020"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::setTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895">Transaction::TimeoutType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>time_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows you to set various types of timeouts on a <a class="el" href="classatscppapi_1_1Transaction.html" title="Transactions are the object containing all the state related to a HTTP Transaction.">Transaction</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of timeout </td></tr>
    <tr><td class="paramname">time_ms</td><td>The timeout time in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classatscppapi_1_1Transaction.html#a49e885de00f9b7d81338bbcef8cf7895">TimeoutType</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/include/atscppapi/<a class="el" href="Transaction_8h_source.html">Transaction.h</a></li>
<li>src/<a class="el" href="Transaction_8cc.html">Transaction.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 14 2013 11:39:29 for atscppapi by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
